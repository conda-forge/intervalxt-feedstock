From ccac684ad20c69f9ab403387c5afa50e2f133c2b Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Julian=20R=C3=BCth?= <julian.rueth@fsfe.org>
Date: Wed, 7 Aug 2024 18:58:18 +0300
Subject: [PATCH] Allow fmt=11 in configure

---
 doc/news/fmt11.rst         | 3 +++
 libintervalxt/configure.ac | 4 +++-
 2 files changed, 6 insertions(+), 1 deletion(-)
 create mode 100644 doc/news/fmt11.rst

diff --git a/doc/news/fmt11.rst b/doc/news/fmt11.rst
new file mode 100644
index 0000000..2e669ee
--- /dev/null
+++ b/doc/news/fmt11.rst
@@ -0,0 +1,3 @@
+**Fixed:**
+
+* Fixed compatibility with fmt library version 11.
diff --git a/libintervalxt/configure.ac b/libintervalxt/configure.ac
index e92f5cc..91e3557 100644
--- a/libintervalxt/configure.ac
+++ b/libintervalxt/configure.ac
@@ -47,7 +47,9 @@ AX_CXX_CHECK_LIB([fmt], [fmt::v6::getpagesize()], , [
   AX_CXX_CHECK_LIB([fmt], [fmt::v7::getpagesize()], , [
     AX_CXX_CHECK_LIB([fmt], [fmt::v8::report_system_error(int code=0, const char* message=nullptr)], , [
       AX_CXX_CHECK_LIB([fmt], [fmt::v9::report_system_error(int code=0, const char* message=nullptr)], , [
-        AX_CXX_CHECK_LIB([fmt], [fmt::v10::report_system_error(int code=0, const char* message=nullptr)], , [AC_MSG_ERROR([fmt library not found])], [-lfmt])
+        AX_CXX_CHECK_LIB([fmt], [fmt::v10::report_system_error(int code=0, const char* message=nullptr)], , [
+          AX_CXX_CHECK_LIB([fmt], [fmt::v11::report_system_error(int code=0, const char* message=nullptr)], , [AC_MSG_ERROR([fmt library not found])], [-lfmt])
+        ], [-lfmt])
       ], [-lfmt])
     ], [-lfmt])
   ], [-lfmt])
-- 
2.46.0

